@import ../utils/_variables
@import ../utils/_mixins
@import ../../libs/include-media/dist/_include-media

/* products
.products
	overflow: hidden
	margin-bottom: $bottom-space--lg

	+media('<desk-lg')
		margin-bottom: $bottom-space--ml

	&:last-child
		margin-bottom: 0

.products__list
	+grid-parent($products-space)
	+clear-spacing

	+media('<desk-lg')
		+grid-parent($products-space--md)

	+media('<tab-lg')
		+grid-parent($products-space--sm)

.products__item
	+grid-item(2, $products-space)
	+font($font-size, $line-height)
	letter-spacing: $letter-spacing

	+media('<desk-lg')
		+grid-item-responsive(2, $products-space--md, 5rem)

	.page--has-m-aside &
		+media('<desk-md')
			+grid-item-responsive(1, $products-space--md, $products-space)

	&, .page--has-m-aside &
		+media('<tab-lg')
			+grid-item-responsive(2, $products-space--sm, 5rem)

.products__inner
	position: relative
	display: block
	text-decoration: none
	color: inherit

	a
		text-decoration: none
		color: inherit

	+clear

.products__brand
	position: absolute
	+position(0)
	z-index: 10

.products__visual
	float: left
	width: calc(100% - #{$product-content-width})
	padding-right: $product-visual-space

	.page--has-m-aside &
		+media('<desk-hd')
			padding-top: 50px
			width: calc(100% - #{$product-content-width--lg})

		+media('<desk-md')
			padding-top: 0
			width: calc(100% - #{$product-content-width})

	&, .page--has-m-aside &
		+media('<tab-lg')
			padding-top: 50px
			width: calc(100% - #{$product-content-width--lg})

.products__figure
	display: block
	position: relative
	max-width: 240px // ограничиваем ширину изображения продукта
	+push-auto
	text-decoration: none
	color: inherit

	&:before
		+pseudo-block-relative()
		+ratio(3, 4)

.products__img
	+cover-abs()

	.no-image &
		background: url(../../img/no-img-product.png) no-repeat center
		background-size: contain

	img
		display: block
		width: 100%
		height: 100%
		max-width: none
		+object-fit(cover)

.products__title, .products__content, .products__footer
	float: right
	clear: right
	width: $product-content-width
	margin-bottom: $bottom-space--ml

	.page--has-m-aside &
		+media('<desk-hd')
			width: $product-content-width--lg

		+media('<desk-md')
			width: $product-content-width

	&, .page--has-m-aside &
		+media('<desk-md')
			width: $product-content-width--lg

.products__content, .products__footer
	&:last-child
		margin-bottom: 0

.products__title
	+font-d($line-height: round-float(24/14, 2))
	overflow: hidden

	a
		padding-top: 0.5em
		text-decoration: none
		color: inherit
		transition: inherit

	.products__model
		display: none

	//hover
	.no-touchevents a:hover &
		color: $base-color

		.products__model
			color: $text-color-light

.products__model
	+font-normal
	color: $text-color-light
	letter-spacing: $letter-spacing

	&::before
		content: "/ "

// list of characteristics
.products__dl
	margin-bottom: $bottom-space

	&:last-child
		margin-bottom: 0

.products__di
	position: relative
	padding: 5px 0
	border-bottom: 1px dashed $text-color-light
	+clear

.products__dt
	float: left
	width: $product-dt
	color: $text-color-light
	padding-right: 10px

.products__dd
	margin-left: $product-dt

// colors
.products__dd
	.color-pics
		+clear-spacing
		margin-top: -10px
		padding-top: 8px

// footer
.products__footer
	+clear

// price
.products__price
	float: left
	width: $product-dt
	padding-right: 10px

	.cur
		display: block
		line-height: 30px
		color: $base-color

		.val
			+font-bold
			font-size: 16px
			letter-spacing: 0.025em

		.unit
			+font-normal
			font-size: 12px
			letter-spacing: 0.05em

.products__basket
	margin-left: $product-dt
	line-height: 1

// btn to basket
.btn-to-basket, .btn-from-basket
	$btn-space: 10px
	//====================
	+display-inline-block-top
	cursor: default
	color: inherit
	text-align: center
	white-space: nowrap
	+clear-spacing
	user-select: none

	svg, span
		+display-inline-block-middle

	.svg-ico-basket
		+size(22px)

	.svg-ico-basket-add
		+size(32px, 22px)

	path
		fill: inherit

	span
		padding-right: $btn-space
		+font($font-size, $line-height)
		letter-spacing: $letter-spacing
		text-align: left
		white-space: normal

	svg + span
		padding-right: 0
		padding-left: $btn-space

// hover
a.btn-to-basket
	cursor: pointer

	.no-touchevents &:hover
		color: $link-color
		fill: $link-color

.btn-from-basket
	display: none
	color: $base-color
	fill: $base-color

.products__item.in-cart
	.btn-to-basket
		display: none

	.btn-from-basket
		display: inline-block

/* grid view
.grid-view
	.products__list
		+grid-parent($products-grid-space)
		+clear-spacing

	.products__item
		+grid-item(4, $products-grid-space, $products-space)

		+media('<desk-md')
			.page--has-m-aside &
				+grid-item-responsive(3, $products-grid-space, $products-space)

	.products__visual, .products__title, .products__content, .products__footer
		float: none
		width: auto

	.products__visual
		padding: 0
		margin-bottom: $bottom-space--ml

		&:last-child
			margin-bottom: 0

	.products__title
		//+padding-horizontal($grid-space)
		+font-normal
		+font(16px, round-float(24/16, 2))
		letter-spacing: $letter-spacing
		text-align: center
		text-transform: none
		max-width: 260px
		margin: 0 auto 1.5rem

		.products__model
			display: inline

	.products__content
		display: none

	// price
	.products__price
		text-align: center
		float: none
		width: auto
		padding: 0

	.products__basket
		position: absolute
		top: 0
		right: 0
		margin: 0
		z-index: 10

	.btn-to-basket,
	.btn-from-basket
		span
			display: none

/* grid view end

// для маленьких мониторов
/* for mobile
+media('<tab-lg')

.products__item
	+media('<mob-lg')

/* for mobile end
/* products end
